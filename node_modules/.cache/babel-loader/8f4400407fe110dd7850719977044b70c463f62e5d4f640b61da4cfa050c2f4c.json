{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock, withKeys as _withKeys, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"create\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Question:\", -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Question Type:\", -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"text\"\n}, \"text\", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"image\"\n}, \"image\", -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"video\"\n}, \"video\", -1 /* HOISTED */);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"audio\"\n}, \"audio\", -1 /* HOISTED */);\nconst _hoisted_8 = [_hoisted_4, _hoisted_5, _hoisted_6, _hoisted_7];\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Answer:\", -1 /* HOISTED */);\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Fandom:\", -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Category:\", -1 /* HOISTED */);\nconst _hoisted_12 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_13 = {\n  key: 1,\n  class: \"error\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Difficulty:\", -1 /* HOISTED */);\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"easy\"\n}, \"easy\", -1 /* HOISTED */);\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"medium\"\n}, \"medium\", -1 /* HOISTED */);\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"hard\"\n}, \"hard\", -1 /* HOISTED */);\nconst _hoisted_18 = [_hoisted_15, _hoisted_16, _hoisted_17];\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Tags:\", -1 /* HOISTED */);\nconst _hoisted_20 = [\"onClick\"];\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"submit\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", null, \"Submit\")], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_CategoryModal = _resolveComponent(\"CategoryModal\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$setup.showModal ? (_openBlock(), _createBlock(_component_CategoryModal, {\n    key: 0,\n    categories: $setup.categories,\n    onClose: $setup.hideCategories,\n    onSelect: $setup.selectCategory\n  }, null, 8 /* PROPS */, [\"categories\", \"onClose\", \"onSelect\"])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"form\", {\n    onSubmit: _cache[9] || (_cache[9] = _withModifiers((...args) => $setup.handleSubmit && $setup.handleSubmit(...args), [\"prevent\"]))\n  }, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.question = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.question]]), _hoisted_3, _withDirectives(_createElementVNode(\"select\", {\n    name: \"\",\n    id: \"\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.questionType = $event),\n    required: \"\"\n  }, _hoisted_8, 512 /* NEED_PATCH */), [[_vModelSelect, $setup.questionType]]), _hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.answer = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.answer]]), _hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.fandom = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.fandom]]), _hoisted_11, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Select Category\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.cat = $event),\n    onClick: _cache[5] || (_cache[5] = _withModifiers((...args) => $setup.showCategories && $setup.showCategories(...args), [\"prevent\"])),\n    required: \"\",\n    READONLY: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.cat]]), $setup.showCatError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, _toDisplayString($setup.catError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $setup.cError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, _toDisplayString($setup.cError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _hoisted_14, _withDirectives(_createElementVNode(\"select\", {\n    name: \"\",\n    id: \"\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.difficulty = $event),\n    required: \"\"\n  }, _hoisted_18, 512 /* NEED_PATCH */), [[_vModelSelect, $setup.difficulty]]), _hoisted_19, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.tag = $event),\n    type: \"text\",\n    onKeydown: _cache[8] || (_cache[8] = _withKeys(_withModifiers((...args) => $setup.handleKeydown && $setup.handleKeydown(...args), [\"prevent\"]), [\"enter\"]))\n  }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), [[_vModelText, $setup.tag]]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.tags, tag => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"pill\",\n      key: tag\n    }, [_createElementVNode(\"span\", {\n      onClick: $event => $setup.deleteTag(tag)\n    }, _toDisplayString(tag), 9 /* TEXT, PROPS */, _hoisted_20)]);\n  }), 128 /* KEYED_FRAGMENT */)), _hoisted_21], 32 /* HYDRATE_EVENTS */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","value","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_15","_hoisted_16","_hoisted_17","_createElementBlock","_hoisted_1","$setup","showModal","_createBlock","_component_CategoryModal","categories","onClose","hideCategories","onSelect","selectCategory","onSubmit","_cache","_withModifiers","args","handleSubmit","_hoisted_2","type","question","$event","required","_hoisted_3","name","id","questionType","_hoisted_9","answer","_hoisted_10","fandom","_hoisted_11","placeholder","cat","onClick","showCategories","READONLY","showCatError","_hoisted_12","_toDisplayString","catError","cError","_hoisted_13","_hoisted_14","difficulty","_hoisted_19","tag","onKeydown","_withKeys","handleKeydown","_Fragment","_renderList","tags","key","deleteTag","_hoisted_20","_hoisted_21"],"sources":["/mnt/d/programming/github/choisauce/anime_quiz_database/anime_quiz/src/components/QuestionForm.vue"],"sourcesContent":["<template>\r\n    <div class=\"create\">\r\n        <CategoryModal :categories=\"categories\" v-if=\"showModal\" @close=\"hideCategories\" @select=\"selectCategory\" />\r\n        <form @submit.prevent=\"handleSubmit\">\r\n            <label>Question:</label>\r\n            <input type=\"text\" v-model=\"question\" required>\r\n\r\n            <label>Question Type:</label>\r\n            <select name=\"\" id=\"\" v-model=\"questionType\" required>\r\n                <option value=\"text\">text</option>\r\n                <option value=\"image\">image</option>\r\n                <option value=\"video\">video</option>\r\n                <option value=\"audio\">audio</option>\r\n            </select>\r\n\r\n            <label>Answer:</label>\r\n            <input type=\"text\" v-model=\"answer\" required>\r\n            <label>Fandom:</label>\r\n            <input type=\"text\" v-model=\"fandom\" required>\r\n\r\n            <label>Category:</label>\r\n            <input type=\"text\" placeholder=\"Select Category\" v-model=\"cat\" @click.prevent=\"showCategories\" required READONLY>\r\n            <div v-if=\"showCatError\" class=\"error\">{{ catError }}</div>\r\n\r\n            <div class=\"error\" v-if=\"cError\">{{ cError }}</div>\r\n            <label>Difficulty:</label>\r\n            <select name=\"\" id=\"\" v-model=\"difficulty\" required>\r\n                <option value=\"easy\">easy</option>\r\n                <option value=\"medium\">medium</option>\r\n                <option value=\"hard\">hard</option>\r\n            </select>\r\n            <label>Tags:</label>\r\n            <input v-model=\"tag\" type=\"text\" @keydown.enter.prevent=\"handleKeydown\">\r\n            <div class=\"pill\" v-for=\"tag in tags\" :key=\"tag\">\r\n                <span @click=\"deleteTag(tag)\">{{ tag }}</span>\r\n            </div>\r\n            <div class=\"submit\">\r\n                <button>Submit</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport getQuestions from '../composables/getQuestions'\r\nimport getCategories from '../composables/getCategories'\r\nimport { useRouter } from 'vue-router';\r\nimport CategoryModal from './CategoryModal.vue'\r\n\r\nexport default {\r\n    components: { CategoryModal },\r\n    setup() {\r\n\r\n        const { questions, qError, qLoad } = getQuestions()\r\n        const { categories, cError, cLoad } = getCategories()\r\n\r\n        qLoad()\r\n        cLoad()\r\n        \r\n        const question = ref('')\r\n        const answer = ref('')\r\n        const fandom = ref('')\r\n        const cat = ref('select category')\r\n        const difficulty = ref('')\r\n        const tag = ref('')\r\n        const tags = ref([])\r\n        const showModal = ref(false);\r\n        const showCatError = ref(false);\r\n        const catError = ref('')\r\n        const questionType = ref('text')\r\n\r\n        const router = useRouter()\r\n        console.log(router)\r\n\r\n        const showCategories = () => {\r\n            showModal.value = true;\r\n            console.log(\"Showing modal\")\r\n        }\r\n\r\n        const selectCategory = (newCat) => {\r\n            showModal.value = false\r\n            cat.value = newCat\r\n        }\r\n\r\n        const hideCategories = () => {\r\n            showModal.value = false\r\n        }\r\n\r\n        const handleKeydown = () => {\r\n            if(!tags.value.includes(tag.value)) {\r\n                tag.value = tag.value.replace(/\\s/, '')\r\n                tags.value.push(tag.value)\r\n            }\r\n            tag.value = ''\r\n        }\r\n\r\n        const deleteTag = (toDel) => {\r\n            tags.value = tags.value.filter((item) => {\r\n                return toDel !== item\r\n            })\r\n        }\r\n\r\n        const handleSubmit = async () => {\r\n            if(cat.value === \"select category\") {\r\n                catError.value = \"Please select a valid category\"\r\n                showCatError.value = true\r\n            }\r\n\r\n            else{\r\n                const post = {\r\n                    question: question.value,\r\n                    answer: answer.value,\r\n                    questionType:  questionType.value,\r\n                    category: cat.value,\r\n                    tags: tags.value,\r\n                    fandom: fandom.value,\r\n                    difficulty: difficulty.value\r\n                }\r\n\r\n                await fetch('http://localhost:3000/questions', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify(post)\r\n                })\r\n            }\r\n        }\r\n        \r\n        return {\r\n            questions,\r\n            qError,\r\n            categories,\r\n            cError,\r\n            question,\r\n            answer,\r\n            fandom,\r\n            cat,\r\n            tag,\r\n            tags,\r\n            difficulty,\r\n            handleKeydown,\r\n            deleteTag,\r\n            handleSubmit,\r\n            showCategories,\r\n            showModal,\r\n            hideCategories,\r\n            selectCategory,\r\n            catError,\r\n            showCatError,\r\n            questionType\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n    form {\r\n        max-width: 420px;\r\n        margin: 30px auto;\r\n        background: white;\r\n        text-align: left;\r\n        padding: 40px;\r\n        border-radius: 10px;\r\n    }\r\n    label {\r\n        color: #aaa;\r\n        display: inline-block;\r\n        margin: 25px 0 15px;\r\n        font-size: 0.6em;\r\n        text-transform: uppercase;\r\n        letter-spacing: 1px;\r\n        font-weight: bold;\r\n    }\r\n    input, select {\r\n        display: block;\r\n        padding: 10px 6px;\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        border: none;\r\n        border-bottom: 1px solid #ddd;\r\n        color: #555;\r\n    }\r\n    input[type=\"checkbox\"] {\r\n        display: inline-block;\r\n        width: 16px;\r\n        margin: 0 10px 0 0;\r\n        position: relative;\r\n        top: 2px;\r\n    }\r\n    button {\r\n        background: #0b6dff;\r\n        border: 0;\r\n        padding: 10px 20px;\r\n        margin-top: 20px;\r\n        color: white;\r\n        border-radius: 20px;\r\n    }\r\n    .submit {\r\n        text-align: center;\r\n    }\r\n    .pill {\r\n        display: inline-block;\r\n        margin: 10px 10px 0 0;\r\n        color: #444;\r\n        background: #ddd;\r\n        padding: 8px;\r\n        border-radius: 20px;\r\n        font-size: 14px;\r\n        cursor: pointer;\r\n    }\r\n    .error {\r\n        color: #ff0062;\r\n        margin-top: 10px;\r\n        font-size: 0.8em;\r\n        font-weight: bold;\r\n    }\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}