{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock, withKeys as _withKeys, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"create\"\n};\nvar _hoisted_2 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Question:\", -1);\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Question Type:\", -1);\nvar _hoisted_4 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"text\"\n}, \"text\", -1);\nvar _hoisted_5 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"image\"\n}, \"image\", -1);\nvar _hoisted_6 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"video\"\n}, \"video\", -1);\nvar _hoisted_7 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"audio\"\n}, \"audio\", -1);\nvar _hoisted_8 = [_hoisted_4, _hoisted_5, _hoisted_6, _hoisted_7];\nvar _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Answer:\", -1);\nvar _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Fandom:\", -1);\nvar _hoisted_11 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Category:\", -1);\nvar _hoisted_12 = {\n  key: 0,\n  \"class\": \"error\"\n};\nvar _hoisted_13 = {\n  key: 1,\n  \"class\": \"error\"\n};\nvar _hoisted_14 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Difficulty:\", -1);\nvar _hoisted_15 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"easy\"\n}, \"easy\", -1);\nvar _hoisted_16 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"medium\"\n}, \"medium\", -1);\nvar _hoisted_17 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"hard\"\n}, \"hard\", -1);\nvar _hoisted_18 = [_hoisted_15, _hoisted_16, _hoisted_17];\nvar _hoisted_19 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Tags:\", -1);\nvar _hoisted_20 = [\"onClick\"];\nvar _hoisted_21 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"submit\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", null, \"Submit\")], -1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_CategoryModal = _resolveComponent(\"CategoryModal\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$setup.showModal ? (_openBlock(), _createBlock(_component_CategoryModal, {\n    key: 0,\n    categories: $setup.categories,\n    onClose: $setup.hideCategories,\n    onSelect: $setup.selectCategory\n  }, null, 8, [\"categories\", \"onClose\", \"onSelect\"])) : _createCommentVNode(\"\", true), _createElementVNode(\"form\", {\n    onSubmit: _cache[9] || (_cache[9] = _withModifiers(function () {\n      return $setup.handleSubmit && $setup.handleSubmit.apply($setup, arguments);\n    }, [\"prevent\"]))\n  }, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $setup.question = $event;\n    }),\n    required: \"\"\n  }, null, 512), [[_vModelText, $setup.question]]), _hoisted_3, _withDirectives(_createElementVNode(\"select\", {\n    name: \"\",\n    id: \"\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $setup.questionType = $event;\n    }),\n    required: \"\"\n  }, _hoisted_8, 512), [[_vModelSelect, $setup.questionType]]), _hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $setup.answer = $event;\n    }),\n    required: \"\"\n  }, null, 512), [[_vModelText, $setup.answer]]), _hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n      return $setup.fandom = $event;\n    }),\n    required: \"\"\n  }, null, 512), [[_vModelText, $setup.fandom]]), _hoisted_11, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Select Category\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = function ($event) {\n      return $setup.cat = $event;\n    }),\n    onClick: _cache[5] || (_cache[5] = _withModifiers(function () {\n      return $setup.showCategories && $setup.showCategories.apply($setup, arguments);\n    }, [\"prevent\"])),\n    required: \"\",\n    READONLY: \"\"\n  }, null, 512), [[_vModelText, $setup.cat]]), $setup.showCatError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, _toDisplayString($setup.catError), 1)) : _createCommentVNode(\"\", true), $setup.cError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, _toDisplayString($setup.cError), 1)) : _createCommentVNode(\"\", true), _hoisted_14, _withDirectives(_createElementVNode(\"select\", {\n    name: \"\",\n    id: \"\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = function ($event) {\n      return $setup.difficulty = $event;\n    }),\n    required: \"\"\n  }, _hoisted_18, 512), [[_vModelSelect, $setup.difficulty]]), _hoisted_19, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = function ($event) {\n      return $setup.tag = $event;\n    }),\n    type: \"text\",\n    onKeydown: _cache[8] || (_cache[8] = _withKeys(_withModifiers(function () {\n      return $setup.handleKeydown && $setup.handleKeydown.apply($setup, arguments);\n    }, [\"prevent\"]), [\"enter\"]))\n  }, null, 544), [[_vModelText, $setup.tag]]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.tags, function (tag) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      \"class\": \"pill\",\n      key: tag\n    }, [_createElementVNode(\"span\", {\n      onClick: function onClick($event) {\n        return $setup.deleteTag(tag);\n      }\n    }, _toDisplayString(tag), 9, _hoisted_20)]);\n  }), 128)), _hoisted_21], 32)]);\n}","map":{"version":3,"names":["_createElementVNode","value","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_15","_hoisted_16","_hoisted_17","_createElementBlock","_hoisted_1","$setup","showModal","_createBlock","_component_CategoryModal","categories","onClose","hideCategories","onSelect","selectCategory","onSubmit","_cache","_withModifiers","handleSubmit","apply","arguments","_hoisted_2","type","question","$event","required","_hoisted_3","name","id","questionType","_hoisted_9","answer","_hoisted_10","fandom","_hoisted_11","placeholder","cat","onClick","showCategories","READONLY","showCatError","_hoisted_12","_toDisplayString","catError","cError","_hoisted_13","_hoisted_14","difficulty","_hoisted_19","tag","onKeydown","_withKeys","handleKeydown","_Fragment","_renderList","tags","key","deleteTag","_hoisted_20","_hoisted_21"],"sources":["/mnt/d/programming/github/choisauce/anime_quiz_database/src/components/QuestionForm.vue"],"sourcesContent":["<template>\r\n    <div class=\"create\">\r\n        <CategoryModal :categories=\"categories\" v-if=\"showModal\" @close=\"hideCategories\" @select=\"selectCategory\" />\r\n        <form @submit.prevent=\"handleSubmit\">\r\n            <label>Question:</label>\r\n            <input type=\"text\" v-model=\"question\" required>\r\n\r\n            <label>Question Type:</label>\r\n            <select name=\"\" id=\"\" v-model=\"questionType\" required>\r\n                <option value=\"text\">text</option>\r\n                <option value=\"image\">image</option>\r\n                <option value=\"video\">video</option>\r\n                <option value=\"audio\">audio</option>\r\n            </select>\r\n\r\n            <label>Answer:</label>\r\n            <input type=\"text\" v-model=\"answer\" required>\r\n            <label>Fandom:</label>\r\n            <input type=\"text\" v-model=\"fandom\" required>\r\n\r\n            <label>Category:</label>\r\n            <input type=\"text\" placeholder=\"Select Category\" v-model=\"cat\" @click.prevent=\"showCategories\" required READONLY>\r\n            <div v-if=\"showCatError\" class=\"error\">{{ catError }}</div>\r\n\r\n            <div class=\"error\" v-if=\"cError\">{{ cError }}</div>\r\n            <label>Difficulty:</label>\r\n            <select name=\"\" id=\"\" v-model=\"difficulty\" required>\r\n                <option value=\"easy\">easy</option>\r\n                <option value=\"medium\">medium</option>\r\n                <option value=\"hard\">hard</option>\r\n            </select>\r\n            <label>Tags:</label>\r\n            <input v-model=\"tag\" type=\"text\" @keydown.enter.prevent=\"handleKeydown\">\r\n            <div class=\"pill\" v-for=\"tag in tags\" :key=\"tag\">\r\n                <span @click=\"deleteTag(tag)\">{{ tag }}</span>\r\n            </div>\r\n            <div class=\"submit\">\r\n                <button>Submit</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport getQuestions from '../composables/getQuestions'\r\nimport getCategories from '../composables/getCategories'\r\nimport { useRouter } from 'vue-router';\r\nimport CategoryModal from './CategoryModal.vue'\r\n\r\nexport default {\r\n    components: { CategoryModal },\r\n    setup() {\r\n\r\n        const { questions, qError, qLoad } = getQuestions()\r\n        const { categories, cError, cLoad } = getCategories()\r\n\r\n        qLoad()\r\n        cLoad()\r\n        \r\n        const question = ref('')\r\n        const answer = ref('')\r\n        const fandom = ref('')\r\n        const cat = ref('select category')\r\n        const difficulty = ref('')\r\n        const tag = ref('')\r\n        const tags = ref([])\r\n        const showModal = ref(false);\r\n        const showCatError = ref(false);\r\n        const catError = ref('')\r\n        const questionType = ref('text')\r\n\r\n        const router = useRouter()\r\n        console.log(router)\r\n\r\n        const showCategories = () => {\r\n            showModal.value = true;\r\n            console.log(\"Showing modal\")\r\n        }\r\n\r\n        const selectCategory = (newCat) => {\r\n            showModal.value = false\r\n            cat.value = newCat\r\n        }\r\n\r\n        const hideCategories = () => {\r\n            showModal.value = false\r\n        }\r\n\r\n        const handleKeydown = () => {\r\n            if(!tags.value.includes(tag.value)) {\r\n                tag.value = tag.value.replace(/\\s/, '')\r\n                tags.value.push(tag.value)\r\n            }\r\n            tag.value = ''\r\n        }\r\n\r\n        const deleteTag = (toDel) => {\r\n            tags.value = tags.value.filter((item) => {\r\n                return toDel !== item\r\n            })\r\n        }\r\n\r\n        const handleSubmit = async () => {\r\n            if(cat.value === \"select category\") {\r\n                catError.value = \"Please select a valid category\"\r\n                showCatError.value = true\r\n            }\r\n\r\n            else{\r\n                const post = {\r\n                    question: question.value,\r\n                    answer: answer.value,\r\n                    questionType:  questionType.value,\r\n                    category: cat.value,\r\n                    tags: tags.value,\r\n                    fandom: fandom.value,\r\n                    difficulty: difficulty.value\r\n                }\r\n\r\n                await fetch('http://localhost:3000/questions', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify(post)\r\n                })\r\n            }\r\n        }\r\n        \r\n        return {\r\n            questions,\r\n            qError,\r\n            categories,\r\n            cError,\r\n            question,\r\n            answer,\r\n            fandom,\r\n            cat,\r\n            tag,\r\n            tags,\r\n            difficulty,\r\n            handleKeydown,\r\n            deleteTag,\r\n            handleSubmit,\r\n            showCategories,\r\n            showModal,\r\n            hideCategories,\r\n            selectCategory,\r\n            catError,\r\n            showCatError,\r\n            questionType\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n    form {\r\n        max-width: 420px;\r\n        margin: 30px auto;\r\n        background: white;\r\n        text-align: left;\r\n        padding: 40px;\r\n        border-radius: 10px;\r\n    }\r\n    label {\r\n        color: #aaa;\r\n        display: inline-block;\r\n        margin: 25px 0 15px;\r\n        font-size: 0.6em;\r\n        text-transform: uppercase;\r\n        letter-spacing: 1px;\r\n        font-weight: bold;\r\n    }\r\n    input, select {\r\n        display: block;\r\n        padding: 10px 6px;\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        border: none;\r\n        border-bottom: 1px solid #ddd;\r\n        color: #555;\r\n    }\r\n    input[type=\"checkbox\"] {\r\n        display: inline-block;\r\n        width: 16px;\r\n        margin: 0 10px 0 0;\r\n        position: relative;\r\n        top: 2px;\r\n    }\r\n    button {\r\n        background: #0b6dff;\r\n        border: 0;\r\n        padding: 10px 20px;\r\n        margin-top: 20px;\r\n        color: white;\r\n        border-radius: 20px;\r\n    }\r\n    .submit {\r\n        text-align: center;\r\n    }\r\n    .pill {\r\n        display: inline-block;\r\n        margin: 10px 10px 0 0;\r\n        color: #444;\r\n        background: #ddd;\r\n        padding: 8px;\r\n        border-radius: 20px;\r\n        font-size: 14px;\r\n        cursor: pointer;\r\n    }\r\n    .error {\r\n        color: #ff0062;\r\n        margin-top: 10px;\r\n        font-size: 0.8em;\r\n        font-weight: bold;\r\n    }\r\n</style>"],"mappings":";;EACS,SAAM;AAAQ;8BAGXA,mBAAA,CAAwB,eAAjB,WAAS;8BAGhBA,mBAAA,CAA6B,eAAtB,gBAAc;8BAEjBA,mBAAA,CAAkC;EAA1BC,KAAK,EAAC;AAAM,GAAC,MAAI;8BACzBD,mBAAA,CAAoC;EAA5BC,KAAK,EAAC;AAAO,GAAC,OAAK;8BAC3BD,mBAAA,CAAoC;EAA5BC,KAAK,EAAC;AAAO,GAAC,OAAK;8BAC3BD,mBAAA,CAAoC;EAA5BC,KAAK,EAAC;AAAO,GAAC,OAAK;kBAH3BC,UAAkC,EAClCC,UAAoC,EACpCC,UAAoC,EACpCC,UAAoC,C;8BAGxCL,mBAAA,CAAsB,eAAf,SAAO;+BAEdA,mBAAA,CAAsB,eAAf,SAAO;+BAGdA,mBAAA,CAAwB,eAAjB,WAAS;;;EAES,SAAM;;;;EAE1B,SAAM;;+BACXA,mBAAA,CAA0B,eAAnB,aAAW;+BAEdA,mBAAA,CAAkC;EAA1BC,KAAK,EAAC;AAAM,GAAC,MAAI;+BACzBD,mBAAA,CAAsC;EAA9BC,KAAK,EAAC;AAAQ,GAAC,QAAM;+BAC7BD,mBAAA,CAAkC;EAA1BC,KAAK,EAAC;AAAM,GAAC,MAAI;mBAFzBK,WAAkC,EAClCC,WAAsC,EACtCC,WAAkC,C;+BAEtCR,mBAAA,CAAoB,eAAb,OAAK;;+BAKZA,mBAAA,CAEM;EAFD,SAAM;AAAQ,I,aACfA,mBAAA,CAAuB,gBAAf,QAAM,E;;;uBApC1BS,mBAAA,CAuCM,OAvCNC,UAuCM,GAtC4CC,MAAA,CAAAC,SAAS,I,cAAvDC,YAAA,CAA4GC,wBAAA;;IAA5FC,UAAU,EAAEJ,MAAA,CAAAI,UAAU;IAAoBC,OAAK,EAAEL,MAAA,CAAAM,cAAc;IAAGC,QAAM,EAAEP,MAAA,CAAAQ;uFAC1FnB,mBAAA,CAoCO;IApCAoB,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA;MAAA,OAAUX,MAAA,CAAAY,YAAA,IAAAZ,MAAA,CAAAY,YAAA,CAAAC,KAAA,CAAAb,MAAA,EAAAc,SAAA,CAAY;IAAA;MAC/BC,UAAwB,E,gBACxB1B,mBAAA,CAA+C;IAAxC2B,IAAI,EAAC,MAAM;;aAAUhB,MAAA,CAAAiB,QAAQ,GAAAC,MAAA;IAAA;IAAEC,QAAQ,EAAR;gCAAVnB,MAAA,CAAAiB,QAAQ,E,GAEpCG,UAA6B,E,gBAC7B/B,mBAAA,CAKS;IALDgC,IAAI,EAAC,EAAE;IAACC,EAAE,EAAC,EAAE;;aAAUtB,MAAA,CAAAuB,YAAY,GAAAL,MAAA;IAAA;IAAEC,QAAQ,EAAR;wCAAdnB,MAAA,CAAAuB,YAAY,E,GAO3CC,UAAsB,E,gBACtBnC,mBAAA,CAA6C;IAAtC2B,IAAI,EAAC,MAAM;;aAAUhB,MAAA,CAAAyB,MAAM,GAAAP,MAAA;IAAA;IAAEC,QAAQ,EAAR;gCAARnB,MAAA,CAAAyB,MAAM,E,GAClCC,WAAsB,E,gBACtBrC,mBAAA,CAA6C;IAAtC2B,IAAI,EAAC,MAAM;;aAAUhB,MAAA,CAAA2B,MAAM,GAAAT,MAAA;IAAA;IAAEC,QAAQ,EAAR;gCAARnB,MAAA,CAAA2B,MAAM,E,GAElCC,WAAwB,E,gBACxBvC,mBAAA,CAAiH;IAA1G2B,IAAI,EAAC,MAAM;IAACa,WAAW,EAAC,iBAAiB;;aAAU7B,MAAA,CAAA8B,GAAG,GAAAZ,MAAA;IAAA;IAAGa,OAAK,EAAArB,MAAA,QAAAA,MAAA,MAAAC,cAAA;MAAA,OAAUX,MAAA,CAAAgC,cAAA,IAAAhC,MAAA,CAAAgC,cAAA,CAAAnB,KAAA,CAAAb,MAAA,EAAAc,SAAA,CAAc;IAAA;IAAEK,QAAQ,EAAR,EAAQ;IAACc,QAAQ,EAAR;gCAA9CjC,MAAA,CAAA8B,GAAG,E,GAClD9B,MAAA,CAAAkC,YAAY,I,cAAvBpC,mBAAA,CAA2D,OAA3DqC,WAA2D,EAAAC,gBAAA,CAAjBpC,MAAA,CAAAqC,QAAQ,S,+BAEzBrC,MAAA,CAAAsC,MAAM,I,cAA/BxC,mBAAA,CAAmD,OAAnDyC,WAAmD,EAAAH,gBAAA,CAAfpC,MAAA,CAAAsC,MAAM,S,+BAC1CE,WAA0B,E,gBAC1BnD,mBAAA,CAIS;IAJDgC,IAAI,EAAC,EAAE;IAACC,EAAE,EAAC,EAAE;;aAAUtB,MAAA,CAAAyC,UAAU,GAAAvB,MAAA;IAAA;IAAEC,QAAQ,EAAR;yCAAZnB,MAAA,CAAAyC,UAAU,E,GAKzCC,WAAoB,E,gBACpBrD,mBAAA,CAAwE;;aAAxDW,MAAA,CAAA2C,GAAG,GAAAzB,MAAA;IAAA;IAAEF,IAAI,EAAC,MAAM;IAAE4B,SAAO,EAAAlC,MAAA,QAAAA,MAAA,MAAAmC,SAAA,CAAAlC,cAAA;MAAA,OAAgBX,MAAA,CAAA8C,aAAA,IAAA9C,MAAA,CAAA8C,aAAA,CAAAjC,KAAA,CAAAb,MAAA,EAAAc,SAAA,CAAa;IAAA;gCAAtDd,MAAA,CAAA2C,GAAG,E,sBACnB7C,mBAAA,CAEMiD,SAAA,QAAAC,WAAA,CAF0BhD,MAAA,CAAAiD,IAAI,YAAXN,GAAG;yBAA5B7C,mBAAA,CAEM;MAFD,SAAM,MAAM;MAAsBoD,GAAG,EAAEP;QACxCtD,mBAAA,CAA8C;MAAvC0C,OAAK,WAAAA,QAAAb,MAAA;QAAA,OAAElB,MAAA,CAAAmD,SAAS,CAACR,GAAG;MAAA;wBAAMA,GAAG,MAAAS,WAAA,E;aAExCC,WAEM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}